<?xml version="1.0" standalone="no"?><?xml-stylesheet type="text/css" href="https://wps.processon.com/themes/default/wps/mind/icons/icons.css" ?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" id="mind-svg-con" version="1.1" width="1709.4375px" height="933.59375px" style="position: absolute; left: 0px; top: 0px; width: 1709.4375px; height: 933.59375px; background-color: rgb(250, 250, 250); z-index: 999;"><defs></defs><g id="svgbackgroundid"><defs></defs><rect x="0" y="0" width="1709.4375" height="933.59375" fill="#fafafa"></rect></g><g transform="translate(-9929, -9337.40625)" id="sdjakdjak5"><defs></defs><g class="svg-topic-con" transform="translate(0.5,0.5)"><path part="right" sub="true" id="line_e9d3fe43acb7" d="M 9999.999992819394 9935.499971277573 L 9999.999992819394 9658.99998922909 A 8 8 0 0 1 10007.999992819394 9650.99998922909 L 10101.000007180606 9650.99998922909" stroke="rgb(170,170,170)" fill="none" stroke-width="1"></path><path part="right" sub="true" id="line_df9d61738504" d="M 9999.999992819394 9935.499971277573 L 9999.999992819394 9730.999985638788 A 8 8 0 0 1 10007.999992819394 9722.999985638788 L 10101.000007180606 9722.999985638788" stroke="rgb(170,170,170)" fill="none" stroke-width="1"></path><path part="right" sub="true" id="line_1e4ae0f7a784" d="M 9999.999992819394 9935.499971277573 L 9999.999992819394 9803.000000000002 A 8 8 0 0 1 10007.999992819394 9795.000000000002 L 10101.000007180606 9795.000000000002" stroke="rgb(170,170,170)" fill="none" stroke-width="1"></path><path part="right" sub="true" id="line_d18a44418366" d="M 9999.999992819394 9935.499971277573 L 9999.999992819394 10034.5 A 8 8 0 0 0 10007.999992819394 10042.5 L 10101.000007180606 10042.5" stroke="rgb(170,170,170)" fill="none" stroke-width="1"></path></g><g class="svg-connection-con" transform="translate(0.5,0.5)"><g id="line_fec67e3e9c0d" class="connection-svg"><path fill="none" d="M 10319.599992819394 9668.999992819394L 10521.037485638788 9552.046860638788" class="connection-line" stroke-linejoin="round" stroke="#000000" stroke-width="2"></path><path class="connection-end-arrow" fill="#000000" stroke="#000000" stroke-width="2" d="M10521.037485638788 9552.046860638788 L10516.058530816084 9560.719231068691 M10521.037485638788 9552.046860638788 L10511.03751512411 9552.071144492984 Z"></path></g></g><g class="svg-freesums-con" transform="translate(0.5,0.5)"><path id="sum_7fd8bc2e09cf" fill="none" stroke="#000000" stroke-width="2" d=" M 10180 9627 C 10197 9631 10172 9681 10194 9686 M 10180 9746 C 10197 9742 10172 9691 10194 9686" stroke-linecap="round"></path></g><g class="svg-freebos-con" transform="translate(0.5,0.5)"></g></g><g id="d18a44418366"><rect x="172" y="682.234375" rx="5px" ry="5px" width="60" height="46" style="fill: #ffffff; stroke:rgb(187,187,187);stroke-width:1px;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="17px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:17px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="185" y="712.6343750000001"><tspan>状态</tspan></tspan></text></g></g><g id="3ca22f0ba796"><rect x="262" y="543.734375" rx="1px" ry="1px" width="164" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="271" y="562.4749999999999"><tspan>地址 -&gt;  账户状态的映射</tspan></tspan></text></g></g><g id="c9aca48e8bdd"><rect x="455.71875" y="543.734375" rx="1px" ry="1px" width="72" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="464.71875" y="562.4749999999999"><tspan>两层SMT</tspan></tspan></text></g></g><g id="1aaee288a43a"><rect x="557.453125" y="506.59375" rx="1px" ry="1px" width="57" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="566.453125" y="525.334375"><tspan>第一层</tspan></tspan></text></g></g><g id="84aebd9a479a"><rect x="644.453125" y="506.734375" rx="1px" ry="1px" width="148" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="653.453125" y="525.475"><tspan>地址到账户状态的映射</tspan></tspan></text></g></g><g id="de3a3b19090e"><rect x="557.453125" y="562.734375" rx="1px" ry="1px" width="57" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="566.453125" y="581.4749999999999"><tspan>第二层</tspan></tspan></text></g></g><g id="99897da72f33"><rect x="644.453125" y="543.59375" rx="1px" ry="1px" width="147" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="653.453125" y="562.3343749999999"><tspan>Code SMT，合约状态</tspan></tspan></text></g></g><g id="ff0e4939887e"><rect x="644.453125" y="580.59375" rx="1px" ry="1px" width="223" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="653.453125" y="599.3343749999999"><tspan>Resource SMT，资源状态，如STC</tspan></tspan></text></g></g><g id="3ba42aa3567e"><rect x="262" y="747.734375" rx="1px" ry="1px" width="190" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="271" y="766.4749999999999"><tspan>Sparse Merkle Tree（SMT）</tspan></tspan></text></g></g><g id="fc51fececb8f"><rect x="481.8125" y="617.59375" rx="1px" ry="1px" width="179" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="490.8125" y="636.3343749999999"><tspan>merkle tree + trie 的结合体</tspan></tspan></text></g></g><g id="55771b175401"><rect x="481.8125" y="654.59375" rx="1px" ry="1px" width="99" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="490.8125" y="673.3343749999999"><tspan>key长 256 bit</tspan></tspan></text></g></g><g id="cbc100e3544d"><rect x="481.8125" y="691.59375" rx="1px" ry="1px" width="65" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="490.8125" y="710.3343749999999"><tspan>radix 16</tspan></tspan></text></g></g><g id="7bea385e77c0"><rect x="481.8125" y="728.59375" rx="1px" ry="1px" width="98" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="490.8125" y="747.3343749999999"><tspan>每个节点4 bit</tspan></tspan></text></g></g><g id="367a43bfb69f"><rect x="481.8125" y="765.59375" rx="1px" ry="1px" width="161" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="490.8125" y="784.3343749999999"><tspan>每个节点 最多 16 个分支</tspan></tspan></text></g></g><g id="a666eefa9ae1"><rect x="481.8125" y="802.59375" rx="1px" ry="1px" width="77" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="490.8125" y="821.3343749999999"><tspan>树高为 64</tspan></tspan></text></g></g><g id="3ac8a2e2e19f"><rect x="481.8125" y="839.59375" rx="1px" ry="1px" width="381" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="490.8125" y="858.3343749999999"><tspan>root，null，internal和 leaf 节点存 hash，而 leaf 还存有 value</tspan></tspan></text></g></g><g id="276910e69404"><rect x="481.8125" y="876.59375" rx="1px" ry="1px" width="191" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="490.8125" y="895.3343749999999"><tspan>序列化在 RocketDB 中持久化</tspan></tspan></text></g></g><g id="1e4ae0f7a784"><rect x="172" y="434.59375" rx="5px" ry="5px" width="60" height="46" style="fill: #ffffff; stroke:rgb(187,187,187);stroke-width:1px;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="17px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:17px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="185" y="464.99375"><tspan>账号</tspan></tspan></text></g></g><g id="df9d61738504"><rect x="172" y="362.59375" rx="5px" ry="5px" width="60" height="46" style="fill: #ffffff; stroke:rgb(187,187,187);stroke-width:1px;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="17px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:17px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="185" y="392.99375"><tspan>交易</tspan></tspan></text></g></g><g id="e9d3fe43acb7"><rect x="172" y="290.59375" rx="5px" ry="5px" width="60" height="46" style="fill: #ffffff; stroke:rgb(187,187,187);stroke-width:1px;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="17px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:17px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="185" y="320.99375"><tspan>区块</tspan></tspan></text></g></g><g transform="translate(172, 506.59375)" id="sdjakdjak0"><g id="subline_d18a44418366" transform="translate(0.5,0.5)"><path id="line_3ca22f0ba796" d="M 60 198.5 L 78 198.5 L 78 54.640625 A 4 4 0 0 1 82 50.640625 L 90 50.640625" p="d18a44418366" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_c9aca48e8bdd" d="M 253.71875 50.640625 L 272 50.640625 L 272 50.640625 L 283.71875 50.640625" p="3ca22f0ba796" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_1aaee288a43a" d="M 355.453125 50.640625 L 374 50.640625 L 374 17.5 A 4 4 0 0 1 378 13.5 L 385.453125 13.5" p="c9aca48e8bdd" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_84aebd9a479a" d="M 442.453125 13.5 L 461 13.5 L 461 13.640625 L 472.453125 13.640625" p="1aaee288a43a" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_de3a3b19090e" d="M 355.453125 50.640625 L 374 50.640625 L 374 65.640625 A 4 4 0 0 0 378 69.640625 L 385.453125 69.640625" p="c9aca48e8bdd" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_99897da72f33" d="M 442.453125 69.640625 L 461 69.640625 L 461 54.5 A 4 4 0 0 1 465 50.5 L 472.453125 50.5" p="de3a3b19090e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_ff0e4939887e" d="M 442.453125 69.640625 L 461 69.640625 L 461 83.5 A 4 4 0 0 0 465 87.5 L 472.453125 87.5" p="de3a3b19090e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_3ba42aa3567e" d="M 60 198.5 L 78 198.5 L 78 250.640625 A 4 4 0 0 0 82 254.640625 L 90 254.640625" p="d18a44418366" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_fc51fececb8f" d="M 279.8125 254.640625 L 298 254.640625 L 298 128.5 A 4 4 0 0 1 302 124.5 L 309.8125 124.5" p="3ba42aa3567e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_55771b175401" d="M 279.8125 254.640625 L 298 254.640625 L 298 165.5 A 4 4 0 0 1 302 161.5 L 309.8125 161.5" p="3ba42aa3567e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_cbc100e3544d" d="M 279.8125 254.640625 L 298 254.640625 L 298 202.5 A 4 4 0 0 1 302 198.5 L 309.8125 198.5" p="3ba42aa3567e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_7bea385e77c0" d="M 279.8125 254.640625 L 298 254.640625 L 298 239.5 A 4 4 0 0 1 302 235.5 L 309.8125 235.5" p="3ba42aa3567e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_367a43bfb69f" d="M 279.8125 254.640625 L 298 254.640625 L 298 268.5 A 4 4 0 0 0 302 272.5 L 309.8125 272.5" p="3ba42aa3567e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_a666eefa9ae1" d="M 279.8125 254.640625 L 298 254.640625 L 298 305.5 A 4 4 0 0 0 302 309.5 L 309.8125 309.5" p="3ba42aa3567e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_3ac8a2e2e19f" d="M 279.8125 254.640625 L 298 254.640625 L 298 342.5 A 4 4 0 0 0 302 346.5 L 309.8125 346.5" p="3ba42aa3567e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_276910e69404" d="M 279.8125 254.640625 L 298 254.640625 L 298 379.5 A 4 4 0 0 0 302 383.5 L 309.8125 383.5" p="3ba42aa3567e" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path></g><g transform="translate(0.5,0.5)"></g><g class="svg-summary-con" transform="translate(0.5,0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,0.5)"></g></g><g transform="translate(172, 434.59375)" id="sdjakdjak1"><g id="subline_1e4ae0f7a784" transform="translate(0.5,0.5)"></g><g transform="translate(0.5,0.5)"></g><g class="svg-summary-con" transform="translate(0.5,0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,0.5)"></g></g><g transform="translate(172, 362.59375)" id="sdjakdjak2"><g id="subline_df9d61738504" transform="translate(0.5,0.5)"></g><g transform="translate(0.5,0.5)"></g><g class="svg-summary-con" transform="translate(0.5,0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,0.5)"></g></g><g transform="translate(172, 290.59375)" id="sdjakdjak3"><g id="subline_e9d3fe43acb7" transform="translate(0.5,0.5)"></g><g transform="translate(0.5,0.5)"></g><g class="svg-summary-con" transform="translate(0.5,0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,0.5)"></g></g><g transform="translate(30, 563.59375)" id="sdjakdjak4"><g id="subline_root" transform="translate(0.5,0.5)"></g><g transform="translate(0.5,0.5)"></g><g class="svg-summary-con" transform="translate(0.5,0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,0.5)"></g></g><g transform="translate(537.4375, 30)" id="sdjakdjak6"><g id="subline_53eb9f355633" transform="translate(0.5,0.5)"><path id="line_7764b2c658d0" d="M 181.640625 161.50001077090994 L 200 161.50001077090994 L 200 36.640632180606616 A 4 4 0 0 1 204 32.640632180606616 L 211.640625 32.640632180606616" p="53eb9f355633" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_75c36d1ec113" d="M 259.64061063878677 32.640632180606616 L 278 32.640632180606616 L 278 17.500007180606616 A 4 4 0 0 1 282 13.500007180606618 L 289.64061063878677 13.500007180606618" p="7764b2c658d0" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_c994b017a3cc" d="M 259.64061063878677 32.640632180606616 L 278 32.640632180606616 L 278 46.500012566061585 A 4 4 0 0 0 282 50.500012566061585 L 289.64061063878677 50.500012566061585" p="7764b2c658d0" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_4648607ef6a0" d="M 181.640625 161.50001077090994 L 200 161.50001077090994 L 200 91.50000897575828 A 4 4 0 0 1 204 87.50000897575828 L 211.640625 87.50000897575828" p="53eb9f355633" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_b36e94ecc1a0" d="M 299.39065372242646 87.50000897575828 L 318 87.50000897575828 L 318 87.64063218060662 L 329.39065372242646 87.64063218060662" p="4648607ef6a0" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_1c2b1f9f3d2c" d="M 181.640625 161.50001077090994 L 200 161.50001077090994 L 200 147.64063936121323 A 4 4 0 0 1 204 143.64063936121323 L 211.640625 143.64063936121323" p="53eb9f355633" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_337f7e63ec8b" d="M 293.671875 143.64063936121323 L 312 143.64063936121323 L 312 128.50001436121323 A 4 4 0 0 1 316 124.50001436121323 L 323.671875 124.50001436121323" p="1c2b1f9f3d2c" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_8371792d3d7b" d="M 293.671875 143.64063936121323 L 312 143.64063936121323 L 312 157.5000107709099 A 4 4 0 0 0 316 161.5000107709099 L 323.671875 161.5000107709099" p="1c2b1f9f3d2c" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_c5b8007ad560" d="M 181.640625 161.50001077090994 L 200 161.50001077090994 L 200 194.50000718060662 A 4 4 0 0 0 204 198.50000718060662 L 211.640625 198.50000718060662" p="53eb9f355633" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_be84e4c0c8af" d="M 292.99998563878677 198.50000718060662 L 311 198.50000718060662 L 311 198.64063936121323 L 322.99998563878677 198.64063936121323" p="c5b8007ad560" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_3f9c0793b870" d="M 181.640625 161.50001077090994 L 200 161.50001077090994 L 200 250.6406285903033 A 4 4 0 0 0 204 254.6406285903033 L 211.640625 254.6406285903033" p="53eb9f355633" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_8b5322b39f99" d="M 295.73436063878677 254.6406285903033 L 314 254.6406285903033 L 314 239.5000035903033 A 4 4 0 0 1 318 235.5000035903033 L 325.73436063878677 235.5000035903033" p="3f9c0793b870" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_59e58af65b07" d="M 295.73436063878677 254.6406285903033 L 314 254.6406285903033 L 314 268.50000000000006 A 4 4 0 0 0 318 272.50000000000006 L 325.73436063878677 272.50000000000006" p="3f9c0793b870" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path><path id="line_b4119bec0b9b" d="M 181.640625 161.50001077090994 L 200 161.50001077090994 L 200 305.5000143612133 A 4 4 0 0 0 204 309.5000143612133 L 211.640625 309.5000143612133" p="53eb9f355633" stroke="rgb(140,140,140)" fill="none" stroke-linecap="square" stroke-width="1"></path></g><g transform="translate(0.5,0.5)"></g><g class="svg-summary-con" transform="translate(0.5,0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,0.5)"></g></g><g transform="translate(270, 331.59375)" id="sdjakdjak7"><g id="subline_7fd8bc2e09cf" transform="translate(0.5,0.5)"></g><g transform="translate(0.5,0.5)"></g><g class="svg-summary-con" transform="translate(0.5,0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,0.5)"></g></g><g id="root"><rect x="30" y="563.59375" rx="5px" ry="5px" width="82" height="69" style="fill: #50C28B; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="26px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:26px;font-family:微软雅黑;color:#fff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="45" y="610.075"><tspan>概念</tspan></tspan></text></g></g><g id="53eb9f355633"><rect x="537.4375" y="168.640625" rx="5px" ry="5px" width="182" height="46" style="fill: #ffffff; stroke:rgb(187,187,187);stroke-width:1px;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="17px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:17px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="550.4375" y="199.04062499999998"><tspan>merkle accumulator</tspan></tspan></text></g></g><g id="7764b2c658d0"><rect x="749.078125" y="49.140625" rx="1px" ry="1px" width="48" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="758.078125" y="67.88125"><tspan>用途</tspan></tspan></text></g></g><g id="75c36d1ec113"><rect x="827.078125" y="30" rx="1px" ry="1px" width="205" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="836.078125" y="48.740625"><tspan>用于作为 block 的 merkle proof</tspan></tspan></text></g></g><g id="c994b017a3cc"><rect x="827.078125" y="67" rx="1px" ry="1px" width="232" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="836.078125" y="85.740625"><tspan>用于作为transaction 的merkle proof</tspan></tspan></text></g></g><g id="4648607ef6a0"><rect x="749.078125" y="104" rx="1px" ry="1px" width="88" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="758.078125" y="122.740625"><tspan>placeholder</tspan></tspan></text></g></g><g id="b36e94ecc1a0"><rect x="866.828125" y="104.140625" rx="1px" ry="1px" width="559" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="875.828125" y="122.88125"><tspan>merkle tree需要偶数个子节点，不满足时，需要固定的placehodler节点（固定哈希值）来填充</tspan></tspan></text></g></g><g id="1c2b1f9f3d2c"><rect x="749.078125" y="160.140625" rx="1px" ry="1px" width="82" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="758.078125" y="178.88125000000002"><tspan>frozen节点</tspan></tspan></text></g></g><g id="337f7e63ec8b"><rect x="861.109375" y="141" rx="1px" ry="1px" width="187" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="870.109375" y="159.74062500000002"><tspan>不含或不是placeholde的节点</tspan></tspan></text></g></g><g id="8371792d3d7b"><rect x="861.109375" y="178" rx="1px" ry="1px" width="196" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="870.109375" y="196.74062500000002"><tspan>frozen用于快速计算 root hash</tspan></tspan></text></g></g><g id="c5b8007ad560"><rect x="749.078125" y="215" rx="1px" ry="1px" width="81" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="758.078125" y="233.74062500000002"><tspan>Leaf index</tspan></tspan></text></g></g><g id="be84e4c0c8af"><rect x="860.4375" y="215.140625" rx="1px" ry="1px" width="161" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="869.4375" y="233.88125000000002"><tspan>从左开始的叶子结点顺序</tspan></tspan></text></g></g><g id="3f9c0793b870"><rect x="749.078125" y="271.140625" rx="1px" ry="1px" width="84" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="758.078125" y="289.88125"><tspan>node index</tspan></tspan></text></g></g><g id="8b5322b39f99"><rect x="863.171875" y="252" rx="1px" ry="1px" width="252" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="872.171875" y="270.740625"><tspan>中序遍历的节点顺序，添加节点顺序不变</tspan></tspan></text></g></g><g id="59e58af65b07"><rect x="863.171875" y="289" rx="1px" ry="1px" width="816" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="872.171875" y="307.740625"><tspan>插入的时候，应该是用了中序遍历寻找最左子placeholder节点，即递归寻找：左子节点，中间节点，右子节点，直到找到unfrozen节点为止</tspan></tspan></text></g></g><g id="b4119bec0b9b"><rect x="749.078125" y="326" rx="1px" ry="1px" width="148" height="27" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="13px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:13px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="758.078125" y="344.740625"><tspan>叶子节点从左至右增长</tspan></tspan></text></g></g><g id="7fd8bc2e09cf"><rect x="270" y="331.59375" rx="5px" ry="5px" width="201" height="36" style="fill: #ffffff; stroke:rgb(187,187,187);stroke-width:1px;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="17px" font-weight="normal" fill="rgb(68, 68, 68)" style="font-size:17px;font-family:微软雅黑;color:rgb(68,68,68);font-style:normal;text-align:left;font-weight:normal;"><tspan x="277" y="356.99375"><tspan>底层结构为默克尔累加器</tspan></tspan></text></g></g></svg>